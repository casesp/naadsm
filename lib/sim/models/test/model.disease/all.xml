<deterministic-test>
  <category>disease</category>
  <short-name>fixed # days for disease stages</short-name>

  <description>
    Test a scenario with fixed durations for each stage of the disease.
  </description>

  <author>Neil Harvey &lt;neilharvey@gmail.com&gt;</author>
  <creation-date>25 November 2003</creation-date>
  <model-version>3.0</model-version>

  <herd-file>1herd</herd-file>

  <parameter-file>disease_1</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 2 days, clinical signs
    accompany infectiousness immediately, and immunity lasts 1 day.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <output>
    <tr><td>Latent</td></tr>
    <tr><td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>PDF # days for disease stages</short-name>

  <description>
    Run again, but with the duration of one stage of the disease given as a
    probability distribution.
  </description>

  <author>Neil Harvey &lt;neilharvey@gmail.com&gt;</author>
  <creation-date>25 November 2003</creation-date>
  <model-version>3.0</model-version>

  <herd-file>1herd</herd-file>

  <parameter-file>disease_2</parameter-file>

  <parameter-description>
    The latent period lasts 1 day.  The duration of the infectious period is
    given by a triangular distribution with min = 1 day, max = 6 days, mode =
    5 days.  With a fixed "random" value of 0.5, this will give a value just
    over 4.  Clinical signs accompany infectiousness immediately, and immunity
    lasts 1 day.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <output>
    <tr><td>Latent</td></tr>
    <tr><td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>period without clinical signs</short-name>

  <description>
    Run again, but with a period where the unit is infectious without clinical
    signs.
  </description>

  <author>Neil Harvey &lt;neilharvey@gmail.com&gt;</author>
  <creation-date>24 January 2004</creation-date>
  <model-version>3.0</model-version>

  <herd-file>1herd</herd-file>

  <parameter-file>disease_3</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness without clinical signs lasts
    1 day, infectiousness with clinical signs lasts 2 days, and immunity lasts
    1 day.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <output>
    <tr><td>Latent</td></tr>
    <tr><td>InfectiousSubclinical</td></tr>
    <tr><td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>negative days in state</short-name>

  <description>
    Test a scenario where a negative number is chosen for the time spent in a
    state.  This is a possibility when distributions with infinite lower tails
    are used.  The unit should simply spend 0 days in that state, that is, skip
    directly to the next state.
  </description>

  <author>Neil Harvey &lt;neilharvey@gmail.com&gt;</author>
  <creation-date>24 January 2005</creation-date>
  <model-version>3.0</model-version>

  <herd-file>1herd</herd-file>

  <parameter-file>disease_neg_days</parameter-file>

  <parameter-description>
    The latent period lasts 1 day.  Infectiousness without clinical signs is
    given as a symmetric triangular distribution with mode -1, so with the
    random number generator "fixed" to always produce 0.5, the number sampled
    will always be -1.  Infectiousness with clinical signs lasts 2 days, and
    immunity lasts 1 day.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <output>
    <tr><td>Latent</td></tr>
    <tr><td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>zero days in all states Latent-Naturally Immune</short-name>

  <description>
    Test a scenario where every state in the disease cycle lasts 0 days.  The
    unit should be Susceptible from the start.
  </description>

  <author>Neil Harvey &lt;neilharvey@gmail.com&gt;</author>
  <creation-date>17 May 2007</creation-date>
  <model-version>3.0</model-version>

  <herd-file>1herd</herd-file>

  <parameter-file>disease_0days</parameter-file>

  <parameter-description>
    The latent, infectious subclinical, infectious clinical, and naturally
    immune periods all last 0 days.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <output>
    <tr><td>Susceptible</td></tr>
    <tr><td>Susceptible</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>override initial state, subclinical</short-name>

  <description>
    Test a scenario where the starting disease state of a herd is given
    explicitly in the herd file.
  </description>

  <author>Neil Harvey &lt;neilharvey@gmail.com&gt;</author>
  <creation-date>17 May 2007</creation-date>
  <model-version>3.0</model-version>

  <herd-file>1herd_start_subclinical</herd-file>

  <parameter-file>disease_3</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness without clinical signs lasts
    1 day, infectiousness with clinical signs lasts 2 days, and immunity lasts
    1 day.  However, the herd file states that the herd starts out infectious
    subclinical.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <output>
    <tr><td>InfectiousSubclinical</td></tr>
    <tr><td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>override initial state, clinical</short-name>

  <description>
    Test a scenario where the starting disease state of a herd is given
    explicitly in the herd file.
  </description>

  <author>Neil Harvey &lt;neilharvey@gmail.com&gt;</author>
  <creation-date>27 January 2005</creation-date>
  <model-version>3.0</model-version>

  <herd-file>1herd_start_infectious</herd-file>

  <parameter-file>disease_1</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 2 days, clinical signs
    accompany infectiousness immediately, and immunity lasts 1 day.  However,
    the herd file states that the herd starts out infectious.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <output>
    <tr><td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>override initial state, destroyed</short-name>

  <description>
    Test a scenario where the starting disease state of a herd is given as
    Destroyed in the herd file.  This test also includes one infected herd so
    that the simulation doesn't early-exit right away.
  </description>

  <author>Neil Harvey &lt;neilharvey@gmail.com&gt;</author>
  <creation-date>22 March 2006</creation-date>
  <model-version>3.0</model-version>

  <herd-file>2herds_1_start_destroyed</herd-file>

  <parameter-file>disease_2species_same_params</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 2 days, clinical signs
    accompany infectiousness immediately, and immunity lasts 1 day.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Destroyed</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Destroyed</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Destroyed</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Destroyed</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>override initial state, naturally immune</short-name>

  <description>
    Test a scenario where the starting disease state of a herd is given as
    Naturally Immune in the herd file.  This test also includes one infected
    herd so that the simulation doesn't early-exit right away.
  </description>

  <author>Neil Harvey &lt;neilharvey@gmail.com&gt;</author>
  <creation-date>22 March 2006</creation-date>
  <model-version>3.0</model-version>

  <herd-file>2herds_1_start_nimmune</herd-file>

  <parameter-file>disease_2species_same_params</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 2 days, clinical signs
    accompany infectiousness immediately, and immunity lasts 1 day.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>NaturallyImmune</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>override initial state, vaccine immune</short-name>

  <description>
    Test a scenario where the starting disease state of a herd is given as
    Vaccine Immune in the herd file.  This test also includes one infected herd
    so that the simulation doesn't early-exit right away.
  </description>

  <author>Neil Harvey &lt;neilharvey@gmail.com&gt;</author>
  <creation-date>22 March 2006</creation-date>
  <model-version>3.0</model-version>

  <herd-file>2herds_1_start_vimmune</herd-file>

  <parameter-file>disease_2species_same_params</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 2 days, clinical signs
    accompany infectiousness immediately, and natural immunity lasts 1 day.
    Immunity due to vaccination lasts 3 days.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>VaccineImmune</td></tr>
    <tr><td>InfectiousClinical</td>  <td>VaccineImmune</td></tr>
    <tr><td>InfectiousClinical</td>  <td>VaccineImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>override days left in state</short-name>

  <description>
    Test a scenario where the number of days left before a state transition is
    explicitly given in the herd file.
  </description>

  <author>Neil Harvey &lt;neilharvey@gmail.com&gt;</author>
  <creation-date>27 January 2005</creation-date>
  <model-version>3.0</model-version>

  <herd-file>1herd_1dayleft</herd-file>

  <parameter-file>override_days_left</parameter-file>

  <parameter-description>
    The disease parameters state that the latent period lasts 2 days,
    infectiousness lasts 2 days, clinical signs accompany infectiousness
    immediately, and immunity lasts 1 day.  However, the number of days left in
    the latent state is explicity given as 1 day in the herd file.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <output>
    <tr><td>Latent</td></tr>
    <tr><td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>override days left in state 2</short-name>

  <description>
    Test a scenario where the number of days left before a state transition is
    explicitly given in the herd file.  This scenario is like "override days
    days left in state" above, but with a different number of days.
  </description>

  <author>Neil Harvey &lt;neilharvey@gmail.com&gt;</author>
  <creation-date>27 January 2005</creation-date>
  <model-version>3.0</model-version>

  <herd-file>1herd_3daysleft</herd-file>

  <parameter-file>override_days_left</parameter-file>

  <parameter-description>
    The disease parameters state that the latent period lasts 2 days,
    infectiousness lasts 2 days, clinical signs accompany infectiousness
    immediately, and immunity lasts 1 day.  However, the number of days left in
    the latent state is explicity given as 3 days in the herd file.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <output>
    <tr><td>Latent</td></tr>
    <tr><td>Latent</td></tr>
    <tr><td>Latent</td></tr>
    <tr><td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>override initial state + days left in state</short-name>

  <description>
    Test a scenario where the starting disease state of a herd and the number
    of days left before a state transition are given explicitly in the herd
    file.
  </description>

  <author>Neil Harvey &lt;neilharvey@gmail.com&gt;</author>
  <creation-date>27 January 2005</creation-date>
  <model-version>3.0</model-version>

  <herd-file>1herd_start_infectious_1dayleft</herd-file>

  <parameter-file>disease_1</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 2 days, clinical signs
    accompany infectiousness immediately, and immunity lasts 1 day.  However,
    the herd file states that the herd starts out infectious and it will remain
    in that state for only 1 day.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <output>
    <tr><td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>override initial state + days left in state, naturally immune</short-name>

  <description>
    Test a scenario where the starting disease state of a herd is given as
    Naturally Immune in the herd file, and the number of days left before a
    state transition is also given explicitly in the herd file.  This test also
    includes one infected herd so that the simulation doesn't early-exit right
    away.
  </description>

  <author>Neil Harvey &lt;neilharvey@gmail.com&gt;</author>
  <creation-date>27 March 2006</creation-date>
  <model-version>3.0</model-version>

  <herd-file>2herds_1_start_nimmune_2daysleft</herd-file>

  <parameter-file>disease_2species_same_params</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 2 days, clinical signs
    accompany infectiousness immediately, and immunity lasts 1 day.  However,
    the herd file states that one herd starts out immune and it will remain in
    that state for 2 days.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>NaturallyImmune</td></tr>
    <tr><td>InfectiousClinical</td>  <td>NaturallyImmune</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>override initial state + days left in state, naturally immune 2</short-name>

  <description>
    Test a scenario where the starting disease state of a herd is given as
    Naturally Immune in the herd file, and the number of days left before a
    state transition is also given explicitly in the herd file.  This test also
    includes one infected herd so that the simulation doesn't early-exit right
    away.
  </description>

  <author>Neil Harvey &lt;neilharvey@gmail.com&gt;</author>
  <creation-date>27 March 2006</creation-date>
  <model-version>3.0</model-version>

  <herd-file>2herds_1_start_nimmune_3daysleft</herd-file>

  <parameter-file>disease_2species_same_params</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 2 days, clinical signs
    accompany infectiousness immediately, and immunity lasts 1 day.  However,
    the herd file states that one herd starts out immune and it will remain in
    that state for 3 days.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>NaturallyImmune</td></tr>
    <tr><td>InfectiousClinical</td>  <td>NaturallyImmune</td></tr>
    <tr><td>InfectiousClinical</td>  <td>NaturallyImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>override initial state + days left in state, vaccine immune</short-name>

  <description>
    Test a scenario where the starting disease state of a herd is given as
    Vaccine Immune in the herd file, and the number of days left before a state
    transition is also given explicitly in the herd file.  This test also
    includes one infected herd so that the simulation doesn't early-exit right
    away.
  </description>

  <author>Neil Harvey &lt;neilharvey@gmail.com&gt;</author>
  <creation-date>27 March 2006</creation-date>
  <model-version>3.0</model-version>

  <herd-file>2herds_1_start_vimmune_1dayleft</herd-file>

  <parameter-file>disease_2species_same_params</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 2 days, clinical signs
    accompany infectiousness immediately, and natural immunity lasts 1 day.
    Immunity due to vaccination lasts 3 days.  However, the herd file states
    that one herd starts out vaccine immune and it will remain in that state
    for only 1 day.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>VaccineImmune</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>override initial state + days left in state, vaccine immune 2</short-name>

  <description>
    Test a scenario where the starting disease state of a herd is given as
    Vaccine Immune in the herd file, and the number of days left before a state
    transition is also given explicitly in the herd file.  This test also
    includes one infected herd so that the simulation doesn't early-exit right
    away.
  </description>

  <author>Neil Harvey &lt;neilharvey@gmail.com&gt;</author>
  <creation-date>27 March 2006</creation-date>
  <model-version>3.0</model-version>

  <herd-file>2herds_1_start_vimmune_2daysleft</herd-file>

  <parameter-file>disease_2species_same_params</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 2 days, clinical signs
    accompany infectiousness immediately, and natural immunity lasts 1 day.
    Immunity due to vaccination lasts 3 days.  However, the herd file states
    that one herd starts out vaccine immune and it will remain in that state
    for only 2 days.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>VaccineImmune</td></tr>
    <tr><td>InfectiousClinical</td>  <td>VaccineImmune</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>different production types, same parameters</short-name>

  <description>
    Test a scenario with two production types with the same parameters.
  </description>

  <author>Neil Harvey &lt;neilharvey@gmail.com&gt;</author>
  <creation-date>19 July 2004</creation-date>
  <model-version>3.0</model-version>

  <herd-file>2herds_pigs_cattle_all_infected</herd-file>

  <parameter-file>disease_2species_same_params</parameter-file>

  <parameter-description>
    For cattle and pigs, the latent period lasts 1 day, infectiousness lasts 2
    days, clinical signs accompany infectiousness immediately, and immunity
    lasts 1 day.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td>     <td>NaturallyImmune</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>

</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>different production types, different parameters</short-name>

  <description>
    Test a scenario with two production types with different parameters.
  </description>

  <author>Neil Harvey &lt;neilharvey@gmail.com&gt;</author>
  <creation-date>27 January 2004</creation-date>
  <model-version>3.0</model-version>

  <herd-file>2herds_pigs_cattle_all_infected</herd-file>

  <parameter-file>disease_2species</parameter-file>

  <parameter-description>
    For cattle (unit 0), the latent period lasts 1 day, infectiousness lasts 2
    days, clinical signs accompany infectiousness immediately, and immunity
    lasts 1 day.  For pigs (unit 1), the latent period lasts 1 day,
    infectiousness without clinical signs lasts 1 day, infectiousness with
    clinical signs lasts 1 day, and immunity lasts 2 days.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousSubclinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td>     <td>NaturallyImmune</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>natural immunity prevents infection 0</short-name>

  <description>
    Test that a naturally immune herd cannot get infected.  This scenario is a
    baseline where the herd does not have immunity.
  </description>

  <author>Neil Harvey &lt;neilharvey@gmail.com&gt;</author>
  <creation-date>30 April 2007</creation-date>
  <model-version>3.0</model-version>

  <herd-file>2herds_pigs_cattle_all_infected</herd-file>

  <parameter-file>natural_immunity_prevents_infection_0</parameter-file>

  <parameter-description>
    For cattle (unit 0), the latent period lasts 3 days, infectiousness lasts 1
    day, clinical signs accompany infectiousness immediately, and immunity
    lasts 3 days.  For pigs (unit 1), the latent period lasts 1 day,
    infectiousness lasts 1 day, clinical signs accompany infectiousness
    immediately, and immunity lasts zero days (the unit goes directly from
    Infectious Clinical to Susceptible).

    The movement rate from cattle units to pig units is fixed at 1 per day.
    The distance of shipments is fixed at 10 km.  The probability of infection
    given exposure is 1.  Latent units cannot be the source of an exposure.

    There is no detection, vaccination, or destruction.

    Recapping what should happen as a result of all this:
     - On day 1 units 0 (cattle) and 1 (pigs) will be latent.
     - On day 2 unit 1 will be Infectious Clinical, but there are no shipments
       from that production type, so it will have no effect.
     - On day 3 unit 1 will return to Susceptible.
     - On day 4 unit 0 will be Infectious Clinical.  It will ship to and
       infect unit 1.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Latent</td></tr>
    <tr><td>Latent</td>              <td>InfectiousClinical</td></tr>
    <tr><td>Latent</td>              <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Latent</td></tr>
    <tr><td>NaturallyImmune</td>     <td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>natural immunity prevents infection 1</short-name>

  <description>
    Test that a naturally immune herd cannot get infected.  This scenario is
    identical to "natural immunity prevents infection 0" above, except that
    this time the recipient herd is immune when the source herd attempts to
    infect it.
  </description>

  <author>Neil Harvey &lt;neilharvey@gmail.com&gt;</author>
  <creation-date>30 April 2007</creation-date>
  <model-version>3.0</model-version>

  <herd-file>2herds_pigs_cattle_all_infected</herd-file>

  <parameter-file>natural_immunity_prevents_infection_1</parameter-file>

  <parameter-description>
    For cattle (unit 0), the latent period lasts 3 days, infectiousness lasts 1
    day, clinical signs accompany infectiousness immediately, and immunity
    lasts 3 days.  For pigs (unit 1), the latent period lasts 1 day,
    infectiousness lasts 1 day, clinical signs accompany infectiousness
    immediately, and immunity lasts 3 days.

    The movement rate from cattle units to pig units is fixed at 1 per day.
    The distance of shipments is fixed at 10 km.  The probability of infection
    given exposure is 1.  Latent units cannot be the source of an exposure.

    There is no detection, vaccination, or destruction.

    Recapping what should happen as a result of all this:
     - On day 1 units 0 (cattle) and 1 (pigs) will be latent.
     - On day 2 unit 1 will be Infectious Clinical, but there are no shipments
       from that production type, so it will have no effect.
     - On day 3 unit 1 will be Naturally Immune.
     - On day 4 unit 0 will be Infectious Clinical.  It will ship to unit 1,
       will fail to infect it because of the immunity.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Latent</td></tr>
    <tr><td>Latent</td>              <td>InfectiousClinical</td></tr>
    <tr><td>Latent</td>              <td>NaturallyImmune</td></tr>
    <tr><td>InfectiousClinical</td>  <td>NaturallyImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>NaturallyImmune</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>vaccine immunity prevents infection 0</short-name>

  <description>
    Test that a vaccine immune herd cannot get infected.  This scenario is a
    baseline with no vaccination.
  </description>

  <author>Neil Harvey &lt;neilharvey@gmail.com&gt;</author>
  <creation-date>19 April 2007</creation-date>
  <model-version>3.0</model-version>

  <herd-file>3herds_pigs_cattle_sheep_pigs_sheep_infected</herd-file>

  <parameter-file>vaccine_prevents_infection_0</parameter-file>

  <parameter-description>
    For sheep (unit 0), the latent period lasts 1 day, infectiousness lasts 6
    days, clinical signs accompany infectiousness immediately, and immunity
    lasts 3 days.  For cattle (unit 1), the latent period lasts 1 day,
    infectiousness lasts 2 days, clinical signs accompany infectiousness
    immediately, and immunity lasts 3 days.  For pigs (unit 2), the latent
    period lasts 4 days, infectiousness lasts 2 days, clinical signs accompany
    infectiousness immediately, and immunity lasts 3 days.

    The movement rate from pig units to cattle units is fixed at 1 per day.
    The distance of shipments is fixed at 10 km.  The probability of infection
    given exposure is 1.  Latent units cannot be the source of an exposure.

    The probability of detection vs. the number of days sheep have been showing
    clinical signs is fixed at 1.  The probability of detection vs. the number
    of days since a public announcement of an outbreak is also fixed at 1.  No
    parameters are set for detection of cattle or pigs.

    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited number of units each day.

    The authorities will begin vaccinating in 10 km rings around detections,
    starting with the first detection.  The vaccine produces immunity
    immediately, and the immunity lasts 5 days.  The authorities have zero
    vaccination capacity.

    Recapping what should happen as a result of all this:
     - On day 1 units 0 (sheep) and 2 (pigs) will be latent.
     - On day 2 unit 0 (sheep) will be Infectious Clinical.  Unit 0 will be
       detected and marked for destruction.  Unit 1 (cattle) will be marked for
       vaccination because it is within 10 km of unit 0, but it will never be
       vaccinated because of the zero vaccination capacity.
     - On day 3 unit 0 will be destroyed.
     - On day 4 nothing new will happen.
     - On day 5 unit 2 (pigs) will be Infectious Clinical.  It will ship to and
       infect unit 1.
     - On day 6 the newly-infected unit 1 will be Latent.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>Destroyed</td>           <td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>Destroyed</td>           <td>Susceptible</td>         <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Latent</td>              <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>InfectiousClinical</td>  <td>NaturallyImmune</td></tr>
    <tr><td>Destroyed</td>           <td>InfectiousClinical</td>  <td>NaturallyImmune</td></tr>
    <tr><td>Destroyed</td>           <td>NaturallyImmune</td>     <td>NaturallyImmune</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>vaccine immunity prevents infection 1</short-name>

  <description>
    Test that a vaccine immune herd cannot get infected.  In this scenario,
    vaccination happens and blocks the infection that is seen in the baseline
    (no vaccination) scenario above.
  </description>

  <author>Neil Harvey &lt;neilharvey@gmail.com&gt;</author>
  <creation-date>19 April 2007</creation-date>
  <model-version>3.0</model-version>

  <herd-file>3herds_pigs_cattle_sheep_pigs_sheep_infected</herd-file>

  <parameter-file>vaccine_prevents_infection_1</parameter-file>

  <parameter-description>
    For sheep (unit 0), the latent period lasts 1 day, infectiousness lasts 6
    days, clinical signs accompany infectiousness immediately, and immunity
    lasts 3 days.  For cattle (unit 1), the latent period lasts 1 day,
    infectiousness lasts 2 days, clinical signs accompany infectiousness
    immediately, and immunity lasts 3 days.  For pigs (unit 2), the latent
    period lasts 4 days, infectiousness lasts 2 days, clinical signs accompany
    infectiousness immediately, and immunity lasts 3 days.

    The movement rate from pig units to cattle units is fixed at 1 per day.
    The distance of shipments is fixed at 10 km.  The probability of infection
    given exposure is 1.  Latent units cannot be the source of an exposure.

    The probability of detection vs. the number of days sheep have been showing
    clinical signs is fixed at 1.  The probability of detection vs. the number
    of days since a public announcement of an outbreak is also fixed at 1.  No
    parameters are set for detection of cattle or pigs.

    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited number of units each day.

    The authorities will begin vaccinating in 10 km rings around detections,
    starting with the first detection.  The vaccine produces immunity
    immediately, and the immunity lasts 5 days. The authorities can vaccinate
    an unlimited number of units each day.

    Recapping what should happen as a result of all this:
     - On day 1 units 0 (sheep) and 2 (pigs) will be latent.
     - On day 2 unit 0 (sheep) will be Infectious Clinical.  Unit 0 will be
       detected and marked for destruction.  Unit 1 (cattle) will be marked for
       vaccination because it is within 10 km of unit 0.
     - On day 3 unit 0 will be destroyed and unit 1 will be vaccinated.
     - On day 4 unit 1 will be Vaccine Immune.
     - On day 5 unit 2 (pigs) will be Infectious Clinical.  It will ship to
       unit 1, but will fail to infect it because of the immunity.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>    <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Latent</td></tr>
    <tr><td>Destroyed</td>           <td>VaccineImmune</td>  <td>Latent</td></tr>
    <tr><td>Destroyed</td>           <td>VaccineImmune</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>VaccineImmune</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>VaccineImmune</td>  <td>NaturallyImmune</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<variable-test>
  <category>disease</category>
  <short-name>prevalence default</short-name>
  
  <description>
    Check that the default prevalence when no prevalence curve is given is
    100%.
  </description>

  <author>Neil Harvey &lt;neilharvey@gmail.com&gt;</author>
  <creation-date>24 April 2005</creation-date>
  <model-version>3.1</model-version>

  <herd-file>1herd</herd-file>

  <parameter-file>prevalence_default</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 1 day, clinical signs
    accompany infectiousness immediately, and immunity lasts 1 day.  No
    prevalence curve is given.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <output>
    <tr>
      <td>num-units-in-each-state:Susceptible</td>
      <td>num-units-in-each-state:Latent</td>
      <td>num-units-in-each-state:Infectious Subclinical</td>
      <td>num-units-in-each-state:Infectious Clinical</td>
      <td>num-units-in-each-state:Naturally Immune</td>
      <td>num-units-in-each-state:Vaccine Immune</td>
      <td>num-units-in-each-state:Destroyed</td>
      <td>average-prevalence</td>
    </tr>
    <tr><td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>1.0</td></tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>1.0</td></tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0.0</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>disease</category>
  <short-name>prevalence over 2 days</short-name>
  
  <description>
    Test that prevalence is calculated correctly.  This scenario is like
    "prevalence default" above, but has a very simple prevalence curve that
    lasts 2 days.
  </description>

  <author>Neil Harvey &lt;neilharvey@gmail.com&gt;</author>
  <creation-date>24 April 2005</creation-date>
  <model-version>3.1</model-version>

  <herd-file>1herd</herd-file>

  <parameter-file>prevalence_1</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 1 day, clinical signs
    accompany infectiousness immediately, and immunity lasts 1 day.
    
    The prevalence curve is a simple triangle: (0,0), (1,1), (2,0).  Because
    the curve spans 2 days and the disease lasts 2 days, the prevalence found
    by interpolating at the middle of each day should be 0.5.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <diagram>prevalence_1</diagram>
  <diagram>1herd</diagram>

  <output>
    <tr>
      <td>num-units-in-each-state:Susceptible</td>
      <td>num-units-in-each-state:Latent</td>
      <td>num-units-in-each-state:Infectious Subclinical</td>
      <td>num-units-in-each-state:Infectious Clinical</td>
      <td>num-units-in-each-state:Naturally Immune</td>
      <td>num-units-in-each-state:Vaccine Immune</td>
      <td>num-units-in-each-state:Destroyed</td>
      <td>average-prevalence</td>
    </tr>
    <tr><td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0.5</td></tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>0.5</td></tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0.0</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>disease</category>
  <short-name>prevalence over 4 days</short-name>
  
  <description>
    Test that prevalence is calculated correctly.  This scenario is like
    "prevalence over 2 days" above, but it stretches the prevalence curve over
    4 days.
  </description>

  <author>Neil Harvey &lt;neilharvey@gmail.com&gt;</author>
  <creation-date>24 April 2005</creation-date>
  <model-version>3.1</model-version>

  <herd-file>1herd</herd-file>

  <parameter-file>prevalence_2</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 3 days, clinical signs
    accompany infectiousness immediately, and immunity lasts 1 day.
    
    The prevalence curve is a simple triangle: (0,0), (1,1), (2,0).  Because
    the curve spans 2 days and the disease lasts 4 days, the prevalence values
    found by interpolating at the middle of each day should be 0.25, 0.75,
    0.75, and 0.25.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <diagram>prevalence_2</diagram>
  <diagram>1herd</diagram>

  <output>
    <tr>
      <td>num-units-in-each-state:Susceptible</td>
      <td>num-units-in-each-state:Latent</td>
      <td>num-units-in-each-state:Infectious Subclinical</td>
      <td>num-units-in-each-state:Infectious Clinical</td>
      <td>num-units-in-each-state:Naturally Immune</td>
      <td>num-units-in-each-state:Vaccine Immune</td>
      <td>num-units-in-each-state:Destroyed</td>
      <td>average-prevalence</td>
    </tr>
    <tr><td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0.25</td></tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>0.75</td></tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>0.75</td></tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>0.25</td></tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0.0</td></tr>
  </output>
</variable-test>
